# モーダル機能実装

## 概要

「記録を追加」「新しいアクティビティ」ボタンにモーダルダイアログ機能を実装しました。

## 実装内容

### 1. モーダルコンポーネント

#### `AddRecordModal.tsx`
- 既存のアクティビティに記録を追加するモーダル
- 黒ベースの角丸デザイン
- サイズ: `md`（中サイズ）

#### `CreateActivityModal.tsx`
- 新しいアクティビティを作成するモーダル
- 黒ベースの角丸デザイン
- サイズ: `lg`（大サイズ）

### 2. カスタムフック

#### `useModalState.ts`
モーダルの開閉状態を管理するフック。

**戻り値:**
```typescript
{
  opened: boolean;  // モーダルの開閉状態
  open: () => void;  // モーダルを開く
  close: () => void; // モーダルを閉じる
  toggle: () => void; // モーダルの開閉を切り替え
}
```

### 3. ボタンコンポーネントの更新

#### `AddRecordButton.tsx`
- `useModalState`フックを使用してモーダル状態を管理
- ボタンクリック時にモーダルを自動的に開く
- モーダルをボタンコンポーネント内に統合

#### `CreateActivityButton.tsx`
- `useModalState`フックを使用してモーダル状態を管理
- ボタンクリック時にモーダルを自動的に開く
- モーダルをボタンコンポーネント内に統合

## デザイン仕様

### モーダルスタイル
- **背景色**: `#1a1a1a`（黒ベース）
- **ボーダー**: `1px solid #333`
- **角丸**: `12px`
- **オーバーレイ**: 透明度55%、ぼかし3px
- **テキスト色**: 白（`#fff`）
- **閉じるボタンホバー**: `#333`

### レイアウト
- **配置**: 画面中央（`centered`）
- **パディング**: ヘッダー・ボディともに `1.5rem`
- **タイトルフォントサイズ**: `1.25rem`
- **タイトルフォントウェイト**: `600`

## 使用方法

ボタンをクリックするだけでモーダルが開きます。

### 閉じる方法
1. ×ボタンをクリック
2. モーダル外（オーバーレイ）をクリック
3. Escキーを押す（Mantineのデフォルト動作）

## ファイル構造

```
src/features/activity/
├── ui/
│   ├── buttons/
│   │   ├── AddRecordButton.tsx      ✅ 更新（モーダル統合）
│   │   └── CreateActivityButton.tsx ✅ 更新（モーダル統合）
│   └── modals/
│       ├── index.ts                  🆕 作成
│       ├── AddRecordModal.tsx        🆕 作成
│       └── CreateActivityModal.tsx   🆕 作成
└── hooks/
    ├── index.ts                      🆕 作成
    └── useModalState.ts              🆕 作成
```

## 次のステップ

### フォーム実装（Phase 2）
1. **記録追加フォーム**
   - アクティビティ選択ドロップダウン
   - 値入力（数値/時間/チェックボックス）
   - 日付選択
   - メモ入力

2. **アクティビティ作成フォーム**
   - アクティビティ名入力
   - アイコン選択
   - 記録タイプ選択
   - カラー選択
   - 目標設定

### データ連携（Phase 3）
- フォーム送信処理
- バリデーション
- API連携
- 状態管理

## デモ

開発サーバーを起動して確認:
```bash
npm run dev
```

ブラウザで http://localhost:5174/ にアクセスし、以下のボタンをクリック:
- 「記録を追加」ボタン → 記録追加モーダルが表示
- 「新しいアクティビティ」ボタン → アクティビティ作成モーダルが表示

## 技術スタック

- **Mantine UI v8**: `Modal`コンポーネント
- **React Hooks**: `useState`, `useCallback`
- **TypeScript**: 完全な型安全性
